<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cluster Veri Görselleştirme</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    canvas {
      max-width: 600px;
      margin: 20px auto;
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="clusterChart"></canvas>

  <script>
    const apiUrl = 'https://localhost:7220/controller/K-Means';
    async function fetchClustersAndVisualize() {

        try {
            const response = await fetch(apiUrl);
            const clustersData = await response.json(); // Alınan verileri JSON formatına dönüştür
            console.log(clustersData); // Alınan verileri konsola yazdır (opsiyonel)

            // Verileri görselleştir
            visualizeClusters(clustersData);
        } catch (error) {
            console.error('Veriler alınamadı:', error);
        }
    }

    function visualizeClusters(clustersData) {
    // Burada clustersData içindeki verileri kullanarak görselleştirmeyi gerçekleştir
    // Örnek olarak önceki canvas üzerinde noktaları gösteren kodu kullanabilirsin veya Chart.js gibi bir kütüphaneyle grafik oluşturabilirsin
    // Örnek olarak, clustersData içindeki verileri alarak görselleştirme işlemini yapabilirsin
    // Örnek olarak:
    
    const canvas = document.getElementById('clusterCanvas');
    canvas.width = 600;
    canvas.height = 400;
    const ctx = canvas.getContext('2d');

    // Her bir cluster için farklı renkler
    const colors = ['red', 'green', 'blue']; // İstediğin kadar renk ekleyebilirsin

    clustersData.forEach((cluster, index) => {
        const clusterColor = colors[index % colors.length];

        cluster.points.forEach(point => {
        ctx.beginPath();
        ctx.arc(point.x, point.y, 5, 0, 2 * Math.PI); // 5 piksel yarıçapında daire oluştur
        ctx.fillStyle = clusterColor; // Cluster rengiyle doldur
        ctx.fill();
        ctx.closePath();
        });
    });
    }

    // fetchClustersAndVisualize fonksiyonunu çağırarak verileri al ve görselleştir
    fetchClustersAndVisualize();
  </script>
</body>
</html>
